<?php/** * admin_list用ajax処理 *  * @access public * @author 川端洋平 * @version 0.0.1 * @since 2012/07/25 *///// 設定ファイル読み込み ////require_once '../../lib-machine.php';try {    //// 認証 ////    Auth::isAuth('member');        $action = Req::post('action');    $target = Req::post('target');    $data   = Req::post('data');        $mModel = new Machine();    if ($action == "delete") {        $res = $mModel->deleteById($data, $_user['company_id']);    } else if ($action == "view_option_0") {        $res = $mModel->setMultiple('view_option', 0, $data, $_user['company_id']);    } else if ($action == "view_option_1") {        $res = $mModel->setMultiple('view_option', 1, $data, $_user['company_id']);    } else if ($action == "view_option_2") {        $res = $mModel->setMultiple('view_option', 2, $data, $_user['company_id']);    } else if ($action == "commission_0") {        $res = $mModel->setMultiple('commission', 0, $data, $_user['company_id']);    } else if ($action == "commission_1") {        $res = $mModel->setMultiple('commission', 1, $data, $_user['company_id']);    }        echo 'success';} catch (Exception $e) {    echo $e->getMessage();}